
(function(b){var d=new Object();var a={init:function(g){d=b.extend({},this,a);d.searching=false;d.o=new Object();var e={overlaySelector:".md-overlay",closeSelector:".md-close",classAddAfterOpen:"md-show",modalAttr:"data-modal",backdropAttr:"data-backdrop",perspectiveClass:"md-perspective",perspectiveSetClass:"md-setperspective",afterOpen:function(h,i){},afterClose:function(h,i){}};d.o=b.extend({},e,g);d.n=new Object();var f=b(d.o.overlaySelector);b(this).click(function(){var k=b("#"+b(this).attr(d.o.modalAttr)),m=b(d.o.closeSelector,k);var j=b(this);b(k).addClass(d.o.classAddAfterOpen);var i=b(this).attr(d.o.backdropAttr);b(f).on("click",function(){if(i==="true"){h();d.afterClose(j,k);b(f).off("click")}});if(b(j).hasClass(d.o.perspectiveSetClass)){setTimeout(function(){b(document.documentElement).addClass(d.o.perspectiveClass)},25)}d.afterOpen(j,k);function l(n){b(k).removeClass(d.o.classAddAfterOpen);if(n){b(document.documentElement).removeClass(d.o.perspectiveClass)}}function h(){l(b(j).hasClass(d.o.perspectiveSetClass))}b(m).on("click",function(n){n.stopPropagation();h();d.afterClose(j,k)})})},afterOpen:function(e,f){d.o.afterOpen(e,f)},afterClose:function(e,f){d.o.afterClose(e,f)}};b.fn.modalEffects=function(e){if(a[e]){return a[e].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof e==="object"||!e){return a.init.apply(this,arguments)}else{b.error("Method "+e+" does not exist on jQuery.modalEffects")}}};function c(){return !!("ontouchstart" in window)?1:0}})(jQuery);